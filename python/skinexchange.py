import json
import time
import requests

opskins_old = ['76561198253323558','76561198173383125','76561198173384045','76561198205511064','76561198173363965','76561198205477928','76561198173387937','76561198173404159','76561198173389782','76561198173387285','76561198035405071','76561198176758587','76561198176733822','76561198176743494','76561198176689109','76561198184174358','76561198184128817','76561198184140893','76561198184153373','76561198216281976','76561198184212473','76561198216279228','76561198184150981','76561198184151097','76561198184166559','76561198216283564','76561198216283152','76561198184202690','76561198184146501','76561198184129861','76561198184163490','76561198216214572','76561198184093425','76561198184184738','76561198184116987','76561198184578066','76561198184552293','76561198216624104','76561198184503951','76561198184466093','76561198184472521','76561198184564803','76561198184508833','76561198184555026','76561198184526997','76561198216558456','76561198184473681','76561198184630606','76561198184594810','76561198216650592','76561198184547478','76561198216651056','76561198184495161','76561198184535169','76561198184459581','76561198184524243','76561198184526762','76561198184574931','76561198184509050','76561198184443385','76561198201309234','76561198233384312','76561198233350724','76561198201352209','76561198233435704','76561198201280069','76561198201327186','76561198201424203','76561198201353795','76561198201277357','76561198201266397','76561198215012959','76561198247147164','76561198214940037','76561198247163560','76561198215050219','76561198247150496','76561198247163678','76561198214983337','76561198247082062','76561198247082180','76561198251467010','76561198251489702','76561198219394857','76561198219326997','76561198251470712','76561198219336515','76561198219302145','76561198251514306','76561198251568662','76561198219272261','76561198251479864','76561198251533708','76561198219312661','76561198219365597','76561198219330493','76561198251470454','76561198251431260','76561198251517162','76561198251517280','76561198251378324','76561198219272497','76561198219345997','76561198251449908','76561198251528866','76561198251471410','76561198251470926','76561198219376849','76561198251534062','76561198219365715','76561198251422094','76561198219438329','76561198219334335','76561198219378391','76561198219385307','76561198219333559','76561198219462139','76561198251421980','76561198251513632','76561198219355579','76561198251471764','76561198219304693','76561198251503204','76561198219352261','76561198251533272','76561198219287865','76561198219423235','76561198219438063','76561198251402074','76561198219332033','76561198219518077','76561198251597246','76561198251723150','76561198251620188','76561198251648202','76561198251712310','76561198251697182','76561198251663794','76561198251626476','76561198251662974','76561198251724664','76561198219519521','76561198251665798','76561198219628909','76561198219549343','76561198251617384','76561198219549461','76561198253047240','76561198253041252','76561198253037825','76561198253034551','76561198253045278','76561198253037863','76561198253037952','76561198253035982','76561198253039883','76561198253036000','76561198253047367','76561198253036588','76561198253038544','76561198253040682','76561198253049520','76561198253034704','76561198253031536','76561198253031458','76561198253039612','76561198253034742','76561198253332495','76561198253334834','76561198253334628','76561198253330351','76561198253324526','76561198253334068','76561198253336540','76561198253328441','76561198253331578','76561198253332520','76561198253327947','76561198253324511','76561198253321718','76561198253340390','76561198253324394','76561198253329318','76561198253347029','76561198253333830','76561198253335246','76561198253333494','76561198253328281','76561198253344747','76561198253336207','76561198253336879','76561198253341306','76561198253337285','76561198253323558','76561198253331862','76561198253329169','76561198253326910','76561198253336261','76561198253340501','76561198253322124','76561198253329296','76561198253340288','76561198253326548','76561198253330345','76561198253325600','76561198253333028','76561198253339194','76561198253339321','76561198253337426','76561198253334703','76561198253336135','76561198253325241','76561198253347156','76561198253337553','76561198253322378','76561198253324326','76561198253332542','76561198253328880','76561198254039674','76561198254152730','76561198254167526','76561198254162189','76561198254151127','76561198254151830','76561198254163667','76561198254169169','76561198254168748','76561198254171689','76561198254145749','76561198254163545','76561198254154570','76561198254146845','76561198254162178','76561198254145961','76561198254164809','76561198254168971','76561198254172197','76561198254145867','76561198254177433','76561198254142227','76561198254159788','76561198254159990','76561198254154681','76561198254133690','76561198254147944','76561198254149455','76561198254175962','76561198254154593','76561198254146101','76561198254156653','76561198254149850','76561198254131365','76561198254162791','76561198254179477','76561198254147652','76561198254174688','76561198254162479','76561198254169031','76561198254147869','76561198254163625','76561198254160625','76561198254147779','76561198254166980','76561198254146596','76561198254147490','76561198254164154','76561198254153619','76561198254179858','76561198254163172','76561198254175196','76561198254164408','76561198254132738','76561198254165716','76561198254162860','76561198254162421','76561198254175653','76561198254174827','76561198254157717','76561198254173455','76561198254136446','76561198254136573','76561198254147244','76561198254158296','76561198254150471','76561198254169135','76561198254166118','76561198254173975','76561198254157117','76561198254168306','76561198254170066','76561198254155332','76561198254152945','76561198254164983','76561198254145962','76561198254180705','76561198254176288','76561198254175335','76561198254175462','76561198254174276','76561198254166080','76561198254152760','76561198254174483','76561198254179070','76561198254159666','76561198254161439','76561198254148506','76561198254154878','76561198254164380','76561198254143623','76561198254175804','76561198254158431','76561198254164387','76561198254158831','76561198254157410','76561198254182759','76561198254177570','76561198254163749','76561198254174991','76561198254163876','76561198254489993','76561198254506116','76561198254499549','76561198254495098','76561198254496111','76561198254492814','76561198254501151','76561198254500076','76561198254500089','76561198254503526','76561198254530126','76561198254510253','76561198254465478','76561198254517763','76561198254500257','76561198254497217','76561198254491658','76561198254491785','76561198254494217','76561198254492628','76561198254511130','76561198254470994','76561198254472907','76561198254501051','76561198254469820','76561198254502314','76561198254494214','76561198254494344','76561198254503655']
opskins = ['76561197999866054','76561197973578969','76561198002375489','76561198012112228','76561198007979103','76561198006409530','76561197985756607','76561198308302709','76561198076335990','76561198170224975','76561198112461161','76561198265338682','76561198255531249','76561198095239399','76561198035771486','76561198180394183','76561198115721256','76561198083856022','76561198052680952','76561198045467236','76561198057592574','76561198147134911','76561198226212028','76561198071893287','76561198216737352','76561198201588559','76561198115916805','76561198262932814','76561198147620603','76561198162212514','76561198132863480','76561198239680202','76561198182212670','76561197981526788','76561198150152560','76561198250276930','76561198192778813','76561198122085362','76561198282998022','76561198154241936','76561198275460181','76561198127827013','76561198029431138','76561198202060855','76561197998985474','76561198210879407','76561198112166962','76561198121119856','76561198058294530','76561198184647770','76561198120266871','76561198199033721','76561198091214780','76561198141788705','76561198042191475','76561198251617966','76561198085053738','76561198140664057','76561198156360271','76561198203079908','76561198102720312','76561198073733663','76561198233462772','76561198065963336','76561198123997545','76561198231294852','76561198295702346','76561198259717469','76561198261523059','76561198076006284','76561198090866254','76561198127113645','76561198104876153','76561198073825762','76561198281922336','76561198171681623','76561198252414108','76561198155719962','76561198121449353','76561198129202066','76561198204411332','76561198129135407','76561198071330208','76561198088419275','76561198188113699','76561198034718658','76561198070094130','76561198090699239','76561198055327776','76561198070773323','76561198274067373','76561198019417773','76561198056623864','76561198028762115','76561198111055076','76561198172238867','76561198201961652','76561198205999725','76561198121607473','76561198168698301','76561198098847738','76561198216955804','76561197987319418','76561198051253555','76561198274158688','76561198129847659','76561198183326529','76561198160596544','76561198304731073','76561198026315470','76561198062088063','76561198071607078','76561198125935132','76561198189287645','76561198050376470','76561198135816025','76561198020271602','76561198013268880','76561198072190769','76561198009500756','76561198103276909','76561198129512926','76561198125882431','76561198058437567','76561198079112229','76561198125710221','76561198114348171','76561198130630626','76561198238468260','76561198072367055','76561198131841902','76561198121882943','76561198117037233','76561198161985045','76561198082922271','76561198159831647','76561198126649785','76561198132205584','76561198195216350','76561198128322100','76561198112810794','76561198086213144','76561198284296614','76561198215139659','76561198117462024','76561198047092524','76561198118295849','76561198151490404','76561198009505504','76561198189345923','76561198081853658','76561198126444947','76561198198275390','76561198203305989','76561198030602519','76561198156315702','76561198034128906','76561198070253563','76561198103579934','76561198125283624','76561198192881109','76561198201153559','76561198166732598','76561198182127265','76561198071826287','76561198064536527','76561198012785872','76561198162906486','76561197972809721','76561197960697623','76561198094324696','76561198036365110','76561198277542328','76561198156896994','76561198103521647','76561198068966597','76561198234471308','76561198058762808','76561198084804779','76561198132068163','76561198109904153','76561198053822642','76561198163088765','76561198059038268','76561198055686349','76561198142117274','76561198036663355','76561198047606137','76561198136907848','76561198185626209','76561198160492140','76561198067024604','76561198017243830','76561198130799323','76561198127422979','76561198067161217','76561198117788450','76561198232887112','76561198128329647','76561198050749352','76561198121856313','76561198297718859','76561198164707019','76561198198408091','76561198206874061','76561198125898961','76561198130582953','76561198054249318','76561198153474081','76561198273084912','76561198209710167','76561198271639264','76561198036045836','76561198191017501','76561198086518924','76561198056134403','76561198128787888','76561198139769361','76561198008239917','76561198013782595','76561198224557956','76561198134590926','76561198137889921','76561197974650825','76561198127094898','76561198198661771','76561197964220637','76561198102883268','76561198083965798','76561198274774799','76561197961863006','76561198255612069','76561198198759237','76561198208858352','76561198131307287','76561198036838951','76561198096832960','76561198134512794','76561198062892313','76561198160369104','76561198203289468','76561198116434071','76561198063474575','76561198220578196','76561198218142936','76561198116445065','76561198104532449','76561198014534906','76561198215788195','76561198219632039','76561198112924247','76561198281675166','76561198142622415','76561197993655338','76561198027768901','76561198210428052','76561198117651542','76561198026661911','76561198192985346','76561198091584174','76561197990779279','76561198154095984','76561198092406461','76561198157938243','76561198122440479','76561198139001743','76561198138537777','76561198271856359','76561198135267500','76561197990461871','76561198241453550','76561198099514351','76561198277977758','76561198148340753','76561198078533569','76561198303369982','76561198082713193','76561198257366675','76561198170375178','76561198234075148','76561197979917106','76561198197089469','76561198120442304','76561198212718572','76561198143860301','76561198236120554','76561198168832583','76561198253152715','76561197997038088','76561198050596135','76561198064767965','76561198098028045','76561198161808286','76561198105324994','76561198104440412','76561198206461352','76561198216914297','76561198116665873','76561197965302121','76561197992003329','76561198206303015','76561198287189650','76561198263180300','76561198217128296','76561198081232701','76561198102069809','76561198112873070','76561198044219684','76561198171487690','76561198202173760','76561198144961818','76561198247528572','76561198237135356','76561198167598158','76561197967320183','76561198150168486','76561198005723922','76561198171623477','76561198083408688','76561198142172658','76561198242367694','76561198083454477','76561198135495698','76561198091087108','76561198131721690','76561198098523581','76561198190811426','76561198205357908','76561198159086866','76561198173573982','76561198059139415','76561198137696689','76561198289359536','76561198122952940','76561198185279689','76561198185314529','76561198009238826','76561198123888791','76561198105999135','76561198009121824','76561198116660337','76561198095829960','76561198049069152','76561198054170645','76561198045843859','76561198073294062','76561198061950693','76561198148072614','76561198193595729','76561198203401764','76561198155273757','76561198080769139','76561198112638858','76561198030981869','76561197994001828','76561198244639840','76561198023436478','76561198056246011','76561198052381517','76561198093606978','76561198072779564','76561198284705340','76561198054686142','76561198211301709','76561198164182064','76561198121929192','76561198059045487','76561198055487684','76561198051290337','76561198192580742','76561198090280573','76561198081840336','76561198078421945','76561198021763961','76561198124284561','76561198068405166','76561198077424237','76561198061281844','76561198089651951','76561198254278710','76561198073704515','76561198241169208','76561198196751799','76561198204425968','76561198057658290','76561198083175017','76561198068599100','76561198128307411','76561198106474159','76561198181265777','76561198164177891','76561198236121880','76561198019198465','76561198083953615','76561198227549216','76561197990063763','76561198027571473','76561198149903306','76561198034571072','76561198170019890','76561198136268190','76561198092761227','76561198062681966','76561198196941758','76561198212316391','76561198053763780','76561198191337483','76561198213296924','76561198040584372','76561198147719697','76561198262231798','76561198194741137','76561198198843653','76561198077220977','76561198090438771','76561198065732606','76561197969356977','76561198025933768','76561198174315397','76561198034954760','76561198046217537','76561198106633980','76561198110346426','76561198152349540','76561198036160618','76561198041002639','76561198059254162','76561198206971959','76561198070161990','76561198099991865','76561198149457018','76561198132743347','76561198165515224','76561198177862621','76561198216598007','76561198216295080','76561198013307454','76561198139349565','76561198091083870','76561198055422672','76561198094587675','76561198075114340','76561198138486975','76561198131465909','76561197961522303','76561198129624706','76561198053107299','76561198071417727','76561198053289164','76561198107989653','76561198062080719','76561198249835216','76561198106135913','76561198203369581','76561198173675318','76561198118380587','76561198048184631','76561198096696300','76561198061321204','76561198125731085','76561198095743963','76561198284832253','76561198116149303','76561198193364162','76561198058197396','76561198018096148','76561198202726915','76561198195917731','76561198025697806','76561198001976668','76561198113398547','76561198068917022','76561198082912353','76561198082402326','76561198251598772','76561198112834332','76561198293498143','76561198016294703','76561198141205518','76561198026062317','76561198143808928','76561198132801346','76561198207259307','76561198253196321','76561198186700462','76561198153259783','76561198119730911','76561198197788747','76561198088186588','76561198073857011','76561198139263542','76561198027540271','76561198159186710','76561198170899967','76561198162047179','76561198230517396','76561198211644928','76561198123427212','76561197992771347','76561198197481597','76561198100968162','76561198117619557','76561198104905146','76561198076747110','76561198097155452','76561198039370936','76561198119570823','76561198145406200','76561198010911832','76561197962154177','76561198015849644','76561198195583699','76561198169911219','76561198254289192','76561198105408802','76561198213642663','76561198069629189','76561198121974086','76561198108185860','76561198033068183','76561198112611585','76561198161632201','76561198168745369','76561198088769020','76561198122424348','76561198117763550','76561198292115111','76561198047392018','76561198288541453','76561198152420673','76561198042422535','76561198214384736','76561198063034525','76561198104020656','76561198172009643','76561198132199932','76561198110705275','76561198236506288','76561198112604043','76561198004502748','76561198085860487','76561198122828191','76561198174481333','76561198081037278','76561198120736803','76561197986092161','76561198186877619','76561198126678978','76561198296873754','76561198123686431','76561198065337678','76561198112627879','76561198146106316','76561198111860778','76561198148335428','76561198297868689','76561198261551555','76561198118468243','76561198099851758','76561198090881743','76561198099360805','76561198194598327','76561198172862207','76561198021746835','76561198166100606','76561198139901129','76561198096105565','76561198263049703','76561197994766985','76561198177164657','76561198129886380','76561198086112124','76561198113533011','76561198139672362','76561198306778622','76561198149605019','76561198112427462','76561198195848267','76561198293496487','76561198116748953','76561198258565822','76561198070001465','76561198268928774','76561198306441998','76561198124788529','76561198137160085','76561198153382778','76561198040696564','76561197987861940','76561198072957168','76561198159520287','76561198096852675','76561198179083246','76561198114060149','76561198078448260','76561198119860840','76561198037439787','76561198173748118','76561198119128778','76561198047697207','76561198062079881','76561198035262765','76561198185522335','76561198100471190','76561198271774110','76561198087542492','76561197961831153','76561198076201439','76561198080261339','76561198187332465','76561198061570439','76561198210654568','76561198170354023','76561198047143482','76561198136618394','76561198262124883','76561198140871894','76561198131695106','76561198249948932','76561198015781523','76561198199911591','76561198033838958','76561198006992012','76561198239749242','76561198269600817','76561198073722597','76561198031347394','76561198110633037','76561198107875002','76561198127095977','76561198164563072','76561198198542727','76561198119675695','76561198150648997','76561198130088393','76561198122544778','76561198171581267','76561198137593206','76561198021870606','76561198172457285','76561198021401340','76561198199000553','76561198232532460','76561198272339556','76561198018454791','76561198202689697','76561198087407524','76561198073585362','76561198054579724','76561198160034848','76561198260728807','76561198120414013','76561198281122573','76561198286330476','76561198255483139','76561198124782836','76561198131093884','76561198254453071','76561198078791009','76561198140101452','76561198195721923','76561198212799737','76561198160850864','76561198255564118','76561197976867639','76561198095859738','76561198206658136','76561198240543142','76561198231999384','76561198070193229','76561198148387459','76561198076670283','76561198186749637','76561198039100982','76561198122950514','76561198128809532','76561198093887622','76561198127473521','76561198018268098','76561198127129246','76561197986168279','76561198170108723','76561198199989728','76561198057021828','76561198143546853','76561197966499147','76561198281940097','76561198200882219','76561198007017165','76561198045800322','76561198085404314','76561198180203745','76561198055512576','76561198198475678','76561198271982262','76561198076628803','76561198252647598','76561198121057765','76561198084467551','76561198057828565','76561198092023283','76561198123389587','76561198081037539','76561198073994704','76561198041501687','76561198215015600','76561198070209820','76561198023563333','76561198200186887','76561198002153536','76561197986718371','76561198243403706','76561198121159533','76561198189993733','76561198222515460','76561198169654956','76561198206614971','76561197998156118','76561198157840416','76561198001369409','76561198001524026','76561198246023852','76561198132033968','76561198078199382','76561198079554552','76561197985077194','76561198226206128','76561198112918727','76561197961241082','76561198151039044','76561197986226708','76561198079821885','76561198050256277','76561198261023736','76561198140309088','76561198042194090','76561198288233764','76561198174381965','76561198012979175','76561198061886590','76561198161454564','76561198096175602','76561198125810240','76561198127798298','76561198030678541','76561198076020831','76561198156735472','76561198054945118','76561197976962356','76561198258193666','76561198021588624','76561198174785611','76561198086510076','76561198062395768','76561198158377103','76561198034648579','76561198182170029','76561198129316227','76561198046932824','76561197994601216','76561198083117092','76561198064782637','76561198169169835','76561198115691925','76561198202511470','76561198209070273','76561198118227942','76561198002307676','76561198246049492','76561198104626893','76561198179373949','76561198030340406','76561198056471819','76561198049860493','76561198203205863','76561198016150056','76561198165364485','76561198119394784','76561198168499030','76561198079704808','76561198136148684','76561198101483677','76561198240480542','76561198072333872','76561198078924527','76561198153067115','76561198083204231','76561198297563973','76561198190797895','76561198155078609','76561198161711685','76561198185413115','76561198061146298','76561198139570570','76561197961466561','76561198070649876','76561198184633459','76561198169269756','76561198258234696','76561198170659551','76561198121435274','76561198146020587','76561198280363648','76561198046780961','76561198175759146','76561198153089620','76561198178473926','76561198236112688','76561198143277062','76561198200892121','76561198277589843','76561198045523735','76561198082409250','76561198136341026','76561198169362991','76561198107141358','76561198118544985','76561198079487981','76561198076535023','76561198065634249','76561198083227691','76561198164302318','76561198141799008','76561198113346344','76561198095376473','76561198069069885','76561198009178603','76561198057134738','76561198155014961','76561198022078987','76561198043569487','76561198055869191','76561198070237002','76561198117097041','76561198041564891','76561198035784014','76561198120668899','76561198037461761','76561198122834599','76561198109179844','76561198073733926','76561198001735665','76561198133682407','76561198047755218','76561198168382707','76561198068796119','76561198056537641','76561198005126782','76561198124205090','76561198122448660','76561198067334157','76561198055564276','76561198084280756','76561198196743159','76561198086527827','76561198136124624','76561198091630598','76561198269368803','76561198090012079','76561198196397278','76561198103813245','76561198002167070','76561198242647392','76561198079375630','76561198081036486','76561198210178913','76561198133784548','76561198194304310','76561198013969788','76561197990639565','76561198101895805','76561198281572407','76561197987102832','76561198150465200','76561198216261547','76561198123606366','76561198091168510','76561198072624743','76561198041863165','76561198121005034','76561198077220549','76561197978837955','76561197982715591','76561198046911160','76561198073900449','76561198099287909','76561197999965097','76561198142239581','76561198206707833','76561198134299917','76561198202439619','76561198120512906','76561198083638150','76561198204063148','76561197962517313','76561198124669150','76561198095420055','76561198064393701','76561197990130434','76561198095727810','76561198115276839','76561198120281287','76561198173177121','76561198151091938','76561198028480299','76561198132507917','76561198105924417','76561197977321408','76561198115663425','76561198165884782','76561198162440889','76561198182196470','76561198115214917','76561198139494250','76561198083935129','76561198085570167','76561198042172965','76561198093960319','76561198128986029','76561198283774377','76561198254670498','76561198111643542','76561198201139918','76561198013874405','76561198162467080','76561198069443398','76561198206415699','76561198068663334','76561198131988724','76561198010013264','76561198083714730','76561198203745872','76561198089327512','76561198061505056','76561198047330685','76561198188693514','76561198098899041','76561198080685194','76561198060498022','76561198279943873','76561198097559547','76561198089638982','76561198171980493','76561197987781698','76561198095124415','76561198072240925','76561198103130992','76561198059599434','76561198255852510','76561198187715395','76561198154180441','76561198160455773','76561198148952302','76561198090969838','76561198248941518','76561198013374536','76561198165821460','76561198243389576','76561198135152807','76561198181762157','76561198114989316','76561198264183374','76561198021056799','76561198026958228','76561198061499831','76561198145599875','76561198070987340','76561198077748265','76561198070879931','76561198120318210','76561198217592076','76561198039564317','76561198204051816','76561198148161918','76561198171528325','76561198260699980','76561198036666316','76561198228942128','76561198059359013','76561198178054206','76561198223551564','76561198164464447','76561198250768494','76561198059978199','76561198086339528','76561197963503997','76561198162230925','76561198177079293','76561197960274312','76561198154833812','76561198284801930','76561198068403179','76561198141743525','76561197960835100','76561198012187975','76561198210072415','76561198080018841','76561198281944345','76561197964378928','76561198147208382']
wait_time = 0
error_wait_time = 20
for op in opskins:
    
    seurl = "http://localhost:8001/api/v1/inventory/{0}".format(op)#http://steamcommunity.com/id/{0}/inventory/json/730/2/
    print("SteamID: " + op)
    print(seurl)
    try:
        t1 = time.time()
        r = requests.get(seurl)
        print(r.json())
        t2 = time.time()
        ttp = (t2-t1)
        print("Done ({0})".format(round(ttp, 2)))
        print("Waiting {0} seconds...".format(wait_time))
        time.sleep(wait_time)
        successful_runs += 1
        if wait_time > 15 and successful_runs > 10:
            print("Clearing wait time.")
            wait_time = 0;
    except:
        successful_runs = 0
        print("Error occured, trying again in {0} seconds.".format(error_wait_time))
        if(wait_time < 70):
            wait_time += 5;
        time.sleep(error_wait_time)
        pass
wait




